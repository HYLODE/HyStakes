<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.189">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>HyStakes â€“ prepare-synthetic-data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">HyStakes</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html">Home</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../vignettes/vignettes.html">Vignettes</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html">About</a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#prepare-synthetic-data" id="toc-prepare-synthetic-data" class="nav-link active" data-scroll-target="#prepare-synthetic-data">Prepare synthetic data</a>
  <ul class="collapse">
  <li><a href="#load-environment-variables" id="toc-load-environment-variables" class="nav-link" data-scroll-target="#load-environment-variables">Load environment variables</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.dev/hylode/hystakes/blob/main/hystakes/vignettes/prepare-synthetic-data.ipynb" class="toc-action">Edit this page</a></p><p><a href="https://github.com/hylode/hystakes/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">



<section id="prepare-synthetic-data" class="level1">
<h1>Prepare synthetic data</h1>
<p>We need synthetic data.<br>
We will inspect live data in this notebook, and then derive a short script that will generate suitable dummy data.</p>
<p><strong>NOTE</strong></p>
<p>This notebook will be be run manually.<br>
That should happen from the <em>project root directory</em> where the <code>readme.md</code> and the <code>.env</code> file are stored.</p>
<p>The following changes to the project root assuming that the notebook kernel is normally starting from the same directory as the notebook itself.</p>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2022-09-08T22:47:55.078567Z&quot;,&quot;iopub.status.busy&quot;:&quot;2022-09-08T22:47:55.078248Z&quot;,&quot;iopub.status.idle&quot;:&quot;2022-09-08T22:47:55.090549Z&quot;,&quot;shell.execute_reply&quot;:&quot;2022-09-08T22:47:55.089586Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2022-09-08T22:47:55.078496Z&quot;}" data-tags="[]" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>cd ..<span class="op">/</span>..</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>/data/hymind/home/steve/HyStakes</code></pre>
</div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2022-09-08T22:52:46.393006Z&quot;,&quot;iopub.status.busy&quot;:&quot;2022-09-08T22:52:46.392543Z&quot;,&quot;iopub.status.idle&quot;:&quot;2022-09-08T22:52:47.162436Z&quot;,&quot;shell.execute_reply&quot;:&quot;2022-09-08T22:52:47.161448Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2022-09-08T22:52:46.392962Z&quot;}" data-tags="[]" data-execution_count="11">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> dotenv <span class="im">import</span> load_dotenv</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pathlib <span class="im">import</span> Path</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> sqlalchemy <span class="im">as</span> sa</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="load-environment-variables" class="level2">
<h2 class="anchored" data-anchor-id="load-environment-variables">Load environment variables</h2>
<p>Load environment variables and set-up SQLAlchemy connection engine for the EMAP Star</p>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2022-09-08T22:47:56.292720Z&quot;,&quot;iopub.status.busy&quot;:&quot;2022-09-08T22:47:56.292198Z&quot;,&quot;iopub.status.idle&quot;:&quot;2022-09-08T22:47:56.298937Z&quot;,&quot;shell.execute_reply&quot;:&quot;2022-09-08T22:47:56.298114Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2022-09-08T22:47:56.292689Z&quot;}" data-tags="[]" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>load_dotenv(dotenv_path<span class="op">=</span><span class="st">".env"</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="cf">try</span>:</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">assert</span> os.getenv(<span class="st">"DOTENV_FILE_EXISTS"</span>) <span class="op">==</span> <span class="st">'TRUE'</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="cf">except</span> <span class="pp">AssertionError</span>:</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"!!! ERROR: check that the .env file exists at the top level of the project"</span>)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"!!! ERROR: check that the relative path is correct"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2022-09-08T22:47:56.301081Z&quot;,&quot;iopub.status.busy&quot;:&quot;2022-09-08T22:47:56.300571Z&quot;,&quot;iopub.status.idle&quot;:&quot;2022-09-08T22:47:56.340769Z&quot;,&quot;shell.execute_reply&quot;:&quot;2022-09-08T22:47:56.339964Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2022-09-08T22:47:56.301052Z&quot;}" data-tags="[]" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Construct the PostgreSQL connection</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>uds_host <span class="op">=</span> os.getenv(<span class="st">'EMAP_DB_HOST'</span>)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>uds_name <span class="op">=</span> os.getenv(<span class="st">'EMAP_DB_NAME'</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>uds_port <span class="op">=</span> os.getenv(<span class="st">'EMAP_DB_PORT'</span>)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>uds_user <span class="op">=</span> os.getenv(<span class="st">'EMAP_DB_USER'</span>)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>uds_passwd <span class="op">=</span> os.getenv(<span class="st">'EMAP_DB_PASSWORD'</span>)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>emapdb_engine <span class="op">=</span> sa.create_engine(<span class="ss">f'postgresql://</span><span class="sc">{</span>uds_user<span class="sc">}</span><span class="ss">:</span><span class="sc">{</span>uds_passwd<span class="sc">}</span><span class="ss">@</span><span class="sc">{</span>uds_host<span class="sc">}</span><span class="ss">:</span><span class="sc">{</span>uds_port<span class="sc">}</span><span class="ss">/</span><span class="sc">{</span>uds_name<span class="sc">}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Hereâ€™s the <em>very</em> long query that I built.<br>
It selects all patients on tower wards 2 weeks ago (336 hours), and then finds the age (rounded) and the last heart rate. The remaining data has <em>no</em> identifiers.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode sql code-with-copy"><code class="sourceCode sql"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="kw">SELECT</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a> <span class="kw">left</span>(md5(lv.hospital_visit_id:<span class="ch">:TEXT</span>), <span class="dv">6</span>) <span class="kw">id</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co">--,lv.location_visit_id</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="co">--,lv.admission_datetime admit_dt_bed</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="co">--,lv.discharge_datetime disch_dt_bed</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co">--,hv.admission_datetime admit_dt_hosp</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co">--,hv.discharge_datetime disch_dt_hosp</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>,<span class="fu">ROUND</span>(<span class="fu">EXTRACT</span>(epoch <span class="kw">FROM</span> </span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    (hv.discharge_datetime <span class="op">-</span> (NOW() <span class="op">-</span> <span class="st">'336 HOURS'</span>:<span class="ch">:INTERVAL</span>)</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    ))<span class="op">/</span><span class="dv">3600</span>) hours_to_discharge</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="co">--,hv.discharge_destination</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="co">--,hv.patient_class</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="co">--,lo.location_string</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>,dept.name department</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a><span class="co">-- include age rounded to 5</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>, <span class="fu">ROUND</span>(DATE_PART(<span class="st">'year'</span>,AGE(cd.date_of_birth ))<span class="op">/</span><span class="dv">5</span>) <span class="op">*</span> <span class="dv">5</span> AGE</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a><span class="co">-- add last heart rate</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>,hr.value_as_real pulse</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a><span class="co">--,hr.observation_datetime</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a><span class="kw">FROM</span> star.location_visit lv</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a><span class="kw">LEFT</span> <span class="kw">JOIN</span> star.location lo <span class="kw">ON</span> lv.location_id <span class="op">=</span> lo.location_id</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a><span class="kw">LEFT</span> <span class="kw">JOIN</span> star.department dept <span class="kw">ON</span> lo.department_id <span class="op">=</span> dept.department_id </span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a><span class="kw">LEFT</span> <span class="kw">JOIN</span> star.hospital_visit hv <span class="kw">ON</span> lv.hospital_visit_id <span class="op">=</span> hv.hospital_visit_id</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a><span class="kw">LEFT</span> <span class="kw">JOIN</span> star.core_demographic cd <span class="kw">ON</span> hv.mrn_id <span class="op">=</span> cd.mrn_id</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a><span class="kw">LEFT</span> <span class="kw">JOIN</span> (</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>    <span class="kw">WITH</span> obs <span class="kw">AS</span> (</span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>        <span class="kw">SELECT</span></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>         vo.visit_observation_id</span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>        ,vo.hospital_visit_id</span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>        ,vo.observation_datetime</span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>        ,vo.value_as_real</span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>        ,ot.name</span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>        <span class="kw">FROM</span> star.visit_observation vo</span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>        <span class="kw">LEFT</span> <span class="kw">JOIN</span> star.visit_observation_type ot <span class="kw">ON</span> vo.visit_observation_type_id <span class="op">=</span> ot.visit_observation_type_id</span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>        <span class="kw">WHERE</span> </span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>        ot.id_in_application <span class="op">=</span> <span class="st">'8'</span> <span class="co">-- heart rate</span></span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a>        <span class="kw">AND</span></span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a>        vo.observation_datetime <span class="op">&lt;</span> NOW() <span class="op">-</span> <span class="st">'336 HOURS'</span>:<span class="ch">:INTERVAL</span> </span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a>        <span class="kw">AND</span></span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a>        vo.observation_datetime <span class="op">&gt;</span> NOW() <span class="op">-</span> <span class="st">'360 HOURS'</span>:<span class="ch">:INTERVAL</span> </span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a>    obs_tail <span class="kw">AS</span> (</span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a>        <span class="kw">SELECT</span> </span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a>         obs.<span class="op">*</span></span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a>        ,<span class="fu">row_number</span>() <span class="kw">over</span> (<span class="kw">partition</span> <span class="kw">BY</span> obs.hospital_visit_id <span class="kw">ORDER</span> <span class="kw">BY</span> obs.observation_datetime <span class="kw">DESC</span>) obs_tail</span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a>        <span class="kw">FROM</span> obs</span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a>    <span class="kw">SELECT</span> </span>
<span id="cb6-56"><a href="#cb6-56" aria-hidden="true" tabindex="-1"></a>     visit_observation_id</span>
<span id="cb6-57"><a href="#cb6-57" aria-hidden="true" tabindex="-1"></a>    ,hospital_visit_id</span>
<span id="cb6-58"><a href="#cb6-58" aria-hidden="true" tabindex="-1"></a>    ,observation_datetime</span>
<span id="cb6-59"><a href="#cb6-59" aria-hidden="true" tabindex="-1"></a>    ,value_as_real</span>
<span id="cb6-60"><a href="#cb6-60" aria-hidden="true" tabindex="-1"></a>    ,NAME</span>
<span id="cb6-61"><a href="#cb6-61" aria-hidden="true" tabindex="-1"></a>    <span class="kw">FROM</span> obs_tail </span>
<span id="cb6-62"><a href="#cb6-62" aria-hidden="true" tabindex="-1"></a>    <span class="kw">WHERE</span> obs_tail <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb6-63"><a href="#cb6-63" aria-hidden="true" tabindex="-1"></a>) hr <span class="co">-- heart rate</span></span>
<span id="cb6-64"><a href="#cb6-64" aria-hidden="true" tabindex="-1"></a><span class="kw">ON</span> lv.hospital_visit_id <span class="op">=</span> hr.hospital_visit_id</span>
<span id="cb6-65"><a href="#cb6-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-66"><a href="#cb6-66" aria-hidden="true" tabindex="-1"></a><span class="kw">WHERE</span> </span>
<span id="cb6-67"><a href="#cb6-67" aria-hidden="true" tabindex="-1"></a>dept.name <span class="kw">IN</span> (</span>
<span id="cb6-68"><a href="#cb6-68" aria-hidden="true" tabindex="-1"></a><span class="st">'UCH T03 INTENSIVE CARE'</span></span>
<span id="cb6-69"><a href="#cb6-69" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH SDEC'</span></span>
<span id="cb6-70"><a href="#cb6-70" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T01 ACUTE MEDICAL'</span></span>
<span id="cb6-71"><a href="#cb6-71" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T01 ENHANCED CARE'</span></span>
<span id="cb6-72"><a href="#cb6-72" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T06 HEAD (T06H)'</span></span>
<span id="cb6-73"><a href="#cb6-73" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T06 CENTRAL (T06C)'</span></span>
<span id="cb6-74"><a href="#cb6-74" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T06 SOUTH PACU'</span></span>
<span id="cb6-75"><a href="#cb6-75" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T06 GYNAE (T06G)'</span></span>
<span id="cb6-76"><a href="#cb6-76" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T07 NORTH (T07N)'</span></span>
<span id="cb6-77"><a href="#cb6-77" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T07 CV SURGE'</span></span>
<span id="cb6-78"><a href="#cb6-78" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T07 SOUTH'</span></span>
<span id="cb6-79"><a href="#cb6-79" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T07 SOUTH (T07S)'</span></span>
<span id="cb6-80"><a href="#cb6-80" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T07 HDRU'</span></span>
<span id="cb6-81"><a href="#cb6-81" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T08 NORTH (T08N)'</span></span>
<span id="cb6-82"><a href="#cb6-82" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T08 SOUTH (T08S)'</span></span>
<span id="cb6-83"><a href="#cb6-83" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T08S ARCU'</span></span>
<span id="cb6-84"><a href="#cb6-84" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T09 SOUTH (T09S)'</span></span>
<span id="cb6-85"><a href="#cb6-85" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T09 NORTH (T09N)'</span></span>
<span id="cb6-86"><a href="#cb6-86" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T09 CENTRAL (T09C)'</span></span>
<span id="cb6-87"><a href="#cb6-87" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T10 SOUTH (T10S)'</span></span>
<span id="cb6-88"><a href="#cb6-88" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T10 NORTH (T10N)'</span></span>
<span id="cb6-89"><a href="#cb6-89" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T10 MED (T10M)'</span></span>
<span id="cb6-90"><a href="#cb6-90" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T11 SOUTH (T11S)'</span></span>
<span id="cb6-91"><a href="#cb6-91" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T11 NORTH (T11N)'</span></span>
<span id="cb6-92"><a href="#cb6-92" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T11 EAST (T11E)'</span></span>
<span id="cb6-93"><a href="#cb6-93" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T11 NORTH (T11NO)'</span></span>
<span id="cb6-94"><a href="#cb6-94" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T12 SOUTH (T12S)'</span></span>
<span id="cb6-95"><a href="#cb6-95" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T12 NORTH (T12N)'</span></span>
<span id="cb6-96"><a href="#cb6-96" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T13 SOUTH (T13S)'</span></span>
<span id="cb6-97"><a href="#cb6-97" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T13 NORTH ONCOLOGY'</span></span>
<span id="cb6-98"><a href="#cb6-98" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T13 NORTH (T13N)'</span></span>
<span id="cb6-99"><a href="#cb6-99" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T14 NORTH TRAUMA'</span></span>
<span id="cb6-100"><a href="#cb6-100" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T14 NORTH (T14N)'</span></span>
<span id="cb6-101"><a href="#cb6-101" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T14 SOUTH ASU'</span></span>
<span id="cb6-102"><a href="#cb6-102" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T14 SOUTH (T14S)'</span></span>
<span id="cb6-103"><a href="#cb6-103" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T15 SOUTH DECANT'</span></span>
<span id="cb6-104"><a href="#cb6-104" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T15 SOUTH (T15S)'</span></span>
<span id="cb6-105"><a href="#cb6-105" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T15 NORTH (T15N)'</span></span>
<span id="cb6-106"><a href="#cb6-106" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T15 NORTH DECANT'</span></span>
<span id="cb6-107"><a href="#cb6-107" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T16 NORTH (T16N)'</span></span>
<span id="cb6-108"><a href="#cb6-108" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T16 SOUTH (T16S)'</span></span>
<span id="cb6-109"><a href="#cb6-109" aria-hidden="true" tabindex="-1"></a>,<span class="st">'UCH T16 SOUTH WINTER'</span></span>
<span id="cb6-110"><a href="#cb6-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-111"><a href="#cb6-111" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-112"><a href="#cb6-112" aria-hidden="true" tabindex="-1"></a><span class="kw">AND</span></span>
<span id="cb6-113"><a href="#cb6-113" aria-hidden="true" tabindex="-1"></a>lv.admission_datetime <span class="op">&lt;</span> NOW() <span class="op">-</span> <span class="st">'336 HOURS'</span>:<span class="ch">:INTERVAL</span> </span>
<span id="cb6-114"><a href="#cb6-114" aria-hidden="true" tabindex="-1"></a><span class="kw">AND</span></span>
<span id="cb6-115"><a href="#cb6-115" aria-hidden="true" tabindex="-1"></a>    (lv.discharge_datetime <span class="op">&gt;</span> NOW() <span class="op">-</span> <span class="st">'336 HOURS'</span>:<span class="ch">:INTERVAL</span> </span>
<span id="cb6-116"><a href="#cb6-116" aria-hidden="true" tabindex="-1"></a>     <span class="kw">OR</span></span>
<span id="cb6-117"><a href="#cb6-117" aria-hidden="true" tabindex="-1"></a>      (lv.discharge_datetime <span class="kw">IS</span> <span class="kw">NULL</span> <span class="kw">AND</span> hv.discharge_datetime <span class="kw">IS</span> <span class="kw">NULL</span>)</span>
<span id="cb6-118"><a href="#cb6-118" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb6-119"><a href="#cb6-119" aria-hidden="true" tabindex="-1"></a><span class="kw">AND</span> </span>
<span id="cb6-120"><a href="#cb6-120" aria-hidden="true" tabindex="-1"></a>lo.location_string <span class="kw">NOT</span> <span class="kw">LIKE</span> <span class="st">'%WAIT%'</span></span>
<span id="cb6-121"><a href="#cb6-121" aria-hidden="true" tabindex="-1"></a><span class="kw">AND</span> </span>
<span id="cb6-122"><a href="#cb6-122" aria-hidden="true" tabindex="-1"></a>lo.location_string <span class="kw">NOT</span> <span class="kw">LIKE</span> <span class="st">'%null%'</span></span>
<span id="cb6-123"><a href="#cb6-123" aria-hidden="true" tabindex="-1"></a>;</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2022-09-08T22:59:59.151184Z&quot;,&quot;iopub.status.busy&quot;:&quot;2022-09-08T22:59:59.149989Z&quot;,&quot;iopub.status.idle&quot;:&quot;2022-09-08T22:59:59.157929Z&quot;,&quot;shell.execute_reply&quot;:&quot;2022-09-08T22:59:59.156758Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2022-09-08T22:59:59.151146Z&quot;}" data-tags="[]" data-execution_count="16">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>q <span class="op">=</span> Path(<span class="st">'utils/queries/discharges_dummy.sql'</span>).read_text()</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># this handles escaping etc (e.g. % should be %%)</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>q <span class="op">=</span> sa.text(q)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2022-09-08T22:59:59.674971Z&quot;,&quot;iopub.status.busy&quot;:&quot;2022-09-08T22:59:59.674420Z&quot;,&quot;iopub.status.idle&quot;:&quot;2022-09-08T23:00:01.061387Z&quot;,&quot;shell.execute_reply&quot;:&quot;2022-09-08T23:00:01.060274Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2022-09-08T22:59:59.674938Z&quot;}" data-tags="[]" data-execution_count="17">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_sql_query(q, emapdb_engine)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-tags="[]">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2022-09-08T23:00:04.815701Z&quot;,&quot;iopub.status.busy&quot;:&quot;2022-09-08T23:00:04.815171Z&quot;,&quot;iopub.status.idle&quot;:&quot;2022-09-08T23:00:04.824238Z&quot;,&quot;shell.execute_reply&quot;:&quot;2022-09-08T23:00:04.823254Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2022-09-08T23:00:04.815668Z&quot;}" data-tags="[]" data-execution_count="19">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>df.department.value_counts()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<pre><code>UCH T10 SOUTH (T10S)      34
UCH T01 ACUTE MEDICAL     33
UCH SDEC                  30
UCH T09 NORTH (T09N)      26
UCH T03 INTENSIVE CARE    25
UCH T10 NORTH (T10N)      23
UCH T13 SOUTH (T13S)      22
UCH T13 NORTH ONCOLOGY    22
UCH T07 NORTH (T07N)      19
UCH T09 CENTRAL (T09C)    19
UCH T08 SOUTH (T08S)      19
UCH T08 NORTH (T08N)      18
UCH T16 NORTH (T16N)      16
UCH T14 NORTH TRAUMA      15
UCH T12 NORTH (T12N)      15
UCH T14 SOUTH ASU         14
UCH T16 SOUTH WINTER      14
UCH T06 HEAD (T06H)       14
UCH T01 ENHANCED CARE     14
UCH T12 SOUTH (T12S)      11
UCH T11 NORTH (T11N)      10
UCH T07 SOUTH             10
UCH T06 SOUTH PACU         9
UCH T06 CENTRAL (T06C)     9
UCH T11 SOUTH (T11S)       9
UCH T14 NORTH (T14N)       4
UCH T06 GYNAE (T06G)       3
UCH T09 SOUTH (T09S)       3
UCH T07 SOUTH (T07S)       2
UCH T15 SOUTH (T15S)       2
UCH T10 MED (T10M)         1
UCH T08S ARCU              1
UCH T15 NORTH (T15N)       1
UCH T16 SOUTH (T16S)       1
Name: department, dtype: int64</code></pre>
</div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2022-09-08T23:00:10.937747Z&quot;,&quot;iopub.status.busy&quot;:&quot;2022-09-08T23:00:10.937199Z&quot;,&quot;iopub.status.idle&quot;:&quot;2022-09-08T23:00:11.008443Z&quot;,&quot;shell.execute_reply&quot;:&quot;2022-09-08T23:00:11.007521Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2022-09-08T23:00:10.937702Z&quot;}" data-tags="[]" data-execution_count="20">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>px.histogram(df.age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<div>                            <div id="d5871055-6a5e-4fa5-9ad5-b758382caad2" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("d5871055-6a5e-4fa5-9ad5-b758382caad2")) {                    Plotly.newPlot(                        "d5871055-6a5e-4fa5-9ad5-b758382caad2",                        [{"alignmentgroup":"True","bingroup":"x","hovertemplate":"variable=age<br>value=%{x}<br>count=%{y}<extra></extra>","legendgroup":"age","marker":{"color":"#636efa","pattern":{"shape":""}},"name":"age","offsetgroup":"age","orientation":"v","showlegend":true,"x":[65.0,85.0,90.0,80.0,100.0,35.0,0.0,65.0,15.0,65.0,20.0,60.0,15.0,95.0,80.0,70.0,75.0,45.0,60.0,60.0,65.0,65.0,55.0,30.0,75.0,65.0,55.0,30.0,65.0,35.0,55.0,120.0,75.0,60.0,95.0,80.0,75.0,45.0,50.0,55.0,50.0,70.0,55.0,55.0,55.0,95.0,65.0,75.0,40.0,95.0,30.0,35.0,55.0,85.0,90.0,60.0,75.0,70.0,80.0,75.0,55.0,65.0,50.0,30.0,10.0,80.0,70.0,60.0,80.0,55.0,15.0,65.0,85.0,30.0,30.0,55.0,65.0,90.0,35.0,75.0,60.0,95.0,65.0,65.0,60.0,15.0,100.0,90.0,15.0,30.0,65.0,50.0,35.0,85.0,25.0,55.0,15.0,10.0,15.0,70.0,85.0,90.0,85.0,50.0,40.0,65.0,75.0,55.0,75.0,90.0,40.0,30.0,70.0,75.0,85.0,35.0,25.0,80.0,90.0,80.0,75.0,95.0,80.0,75.0,85.0,85.0,80.0,40.0,85.0,90.0,90.0,60.0,50.0,75.0,90.0,65.0,45.0,75.0,70.0,65.0,40.0,20.0,75.0,60.0,80.0,75.0,75.0,60.0,80.0,65.0,70.0,65.0,70.0,50.0,70.0,85.0,35.0,75.0,55.0,55.0,75.0,60.0,80.0,75.0,50.0,85.0,70.0,25.0,60.0,20.0,70.0,45.0,35.0,75.0,65.0,85.0,65.0,30.0,70.0,65.0,25.0,85.0,80.0,60.0,80.0,85.0,55.0,20.0,65.0,75.0,45.0,80.0,60.0,70.0,55.0,20.0,25.0,75.0,25.0,45.0,65.0,45.0,60.0,75.0,45.0,50.0,80.0,80.0,35.0,55.0,25.0,70.0,70.0,50.0,65.0,60.0,60.0,60.0,60.0,65.0,75.0,40.0,90.0,75.0,20.0,85.0,65.0,80.0,70.0,75.0,80.0,65.0,45.0,70.0,30.0,60.0,75.0,45.0,60.0,75.0,40.0,55.0,40.0,60.0,65.0,70.0,60.0,70.0,90.0,65.0,85.0,65.0,70.0,45.0,90.0,30.0,65.0,75.0,60.0,50.0,80.0,70.0,65.0,85.0,85.0,55.0,10.0,70.0,5.0,80.0,60.0,90.0,75.0,45.0,15.0,85.0,15.0,15.0,85.0,15.0,90.0,20.0,85.0,70.0,20.0,15.0,95.0,20.0,80.0,85.0,90.0,75.0,75.0,15.0,55.0,10.0,50.0,80.0,90.0,70.0,65.0,35.0,80.0,85.0,55.0,70.0,85.0,75.0,85.0,50.0,90.0,50.0,80.0,85.0,15.0,85.0,5.0,75.0,15.0,85.0,75.0,15.0,10.0,5.0,80.0,15.0,80.0,15.0,70.0,60.0,5.0,15.0,15.0,15.0,85.0,75.0,45.0,10.0,10.0,15.0,15.0,15.0,65.0,55.0,0.0,45.0,20.0,70.0,35.0,35.0,20.0,55.0,90.0,40.0,55.0,35.0,50.0,60.0,10.0,60.0,75.0,75.0,65.0,80.0,55.0,30.0,65.0,40.0,65.0,70.0,70.0,60.0,45.0,55.0,45.0,40.0,55.0,55.0,55.0,45.0,55.0,65.0,85.0,75.0,5.0,55.0,55.0,80.0,20.0,50.0,30.0,80.0,65.0,30.0,80.0,25.0,65.0,60.0,45.0,75.0,65.0,65.0,80.0,45.0,50.0,60.0,60.0,30.0,75.0,75.0,60.0,65.0,55.0,70.0,30.0,65.0,65.0,75.0,75.0,50.0,70.0,50.0,35.0,60.0,35.0,60.0,65.0,70.0,30.0,70.0,60.0,85.0,30.0,20.0,65.0,40.0,45.0,60.0,45.0,65.0,85.0,25.0,30.0,70.0,65.0,25.0,20.0,25.0,60.0,30.0,70.0,40.0,65.0,30.0,90.0,65.0,20.0,60.0,55.0,80.0,70.0,85.0,50.0,55.0,65.0,70.0,75.0,75.0],"xaxis":"x","yaxis":"y","type":"histogram"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"value"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"count"}},"legend":{"title":{"text":"variable"},"tracegroupgap":0},"margin":{"t":60},"barmode":"relative"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('d5871055-6a5e-4fa5-9ad5-b758382caad2');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2022-09-08T23:00:13.395993Z&quot;,&quot;iopub.status.busy&quot;:&quot;2022-09-08T23:00:13.395036Z&quot;,&quot;iopub.status.idle&quot;:&quot;2022-09-08T23:00:13.459603Z&quot;,&quot;shell.execute_reply&quot;:&quot;2022-09-08T23:00:13.458733Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2022-09-08T23:00:13.395954Z&quot;}" data-tags="[]" data-execution_count="21">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>px.histogram(df.pulse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<div>                            <div id="158b3aa7-6c4e-4c46-b010-1ce05cec2c26" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("158b3aa7-6c4e-4c46-b010-1ce05cec2c26")) {                    Plotly.newPlot(                        "158b3aa7-6c4e-4c46-b010-1ce05cec2c26",                        [{"alignmentgroup":"True","bingroup":"x","hovertemplate":"variable=pulse<br>value=%{x}<br>count=%{y}<extra></extra>","legendgroup":"pulse","marker":{"color":"#636efa","pattern":{"shape":""}},"name":"pulse","offsetgroup":"pulse","orientation":"v","showlegend":true,"x":[86.0,54.0,72.0,81.0,null,68.0,149.0,88.0,66.0,72.0,null,55.0,104.0,101.0,76.0,null,null,85.0,null,66.0,null,72.0,52.0,103.0,55.0,69.0,58.0,99.0,98.0,54.0,90.0,61.0,69.0,115.0,null,73.0,79.0,72.0,123.0,77.0,87.0,null,103.0,115.0,70.0,79.0,74.0,79.0,90.0,65.0,62.0,89.0,80.0,73.0,78.0,80.0,64.0,67.0,91.0,null,80.0,null,89.0,64.0,78.0,null,77.0,86.0,78.0,102.0,109.0,84.0,65.0,124.0,null,58.0,81.0,59.0,100.0,77.0,58.0,57.0,59.0,73.0,null,72.0,67.0,76.0,107.0,86.0,79.0,88.0,86.0,68.0,79.0,null,110.0,null,83.0,87.0,null,null,73.0,117.0,121.0,null,91.0,70.0,63.0,75.0,98.0,108.0,null,86.0,82.0,81.0,88.0,69.0,100.0,78.0,65.0,88.0,63.0,78.0,69.0,74.0,58.0,94.0,94.0,98.0,78.0,67.0,82.0,85.0,65.0,63.0,87.0,81.0,80.0,92.0,null,null,80.0,54.0,88.0,86.0,73.0,84.0,86.0,75.0,82.0,44.0,76.0,57.0,57.0,72.0,61.0,65.0,64.0,68.0,73.0,75.0,89.0,96.0,98.0,72.0,83.0,null,89.0,111.0,88.0,null,109.0,68.0,79.0,80.0,68.0,65.0,82.0,106.0,137.0,81.0,89.0,91.0,69.0,100.0,68.0,65.0,83.0,null,70.0,73.0,83.0,68.0,102.0,65.0,80.0,66.0,105.0,77.0,null,92.0,78.0,88.0,68.0,77.0,null,null,null,92.0,71.0,73.0,88.0,96.0,94.0,83.0,67.0,78.0,73.0,98.0,78.0,104.0,97.0,91.0,93.0,86.0,null,45.0,108.0,66.0,81.0,79.0,84.0,null,81.0,82.0,76.0,61.0,79.0,100.0,105.0,67.0,102.0,71.0,null,null,75.0,76.0,55.0,70.0,75.0,null,64.0,60.0,76.0,99.0,79.0,71.0,90.0,86.0,86.0,72.0,null,79.0,60.0,69.0,95.0,59.0,123.0,67.0,62.0,null,97.0,null,77.0,84.0,66.0,98.0,77.0,89.0,97.0,null,79.0,91.0,null,78.0,61.0,62.0,77.0,65.0,92.0,75.0,65.0,141.0,101.0,100.0,null,86.0,71.0,78.0,83.0,119.0,96.0,92.0,99.0,90.0,88.0,null,50.0,null,109.0,99.0,64.0,56.0,106.0,82.0,null,84.0,88.0,72.0,70.0,107.0,85.0,null,73.0,100.0,71.0,97.0,87.0,105.0,null,86.0,null,103.0,68.0,79.0,69.0,100.0,null,108.0,128.0,89.0,null,58.0,127.0,96.0,133.0,83.0,70.0,70.0,83.0,119.0,null,64.0,85.0,62.0,96.0,85.0,112.0,75.0,null,null,77.0,71.0,80.0,114.0,76.0,80.0,82.0,77.0,101.0,86.0,108.0,132.0,63.0,63.0,69.0,null,89.0,84.0,91.0,79.0,77.0,72.0,null,88.0,87.0,96.0,83.0,75.0,80.0,81.0,82.0,75.0,67.0,106.0,59.0,87.0,76.0,84.0,80.0,49.0,59.0,null,57.0,101.0,69.0,62.0,null,66.0,91.0,91.0,98.0,78.0,80.0,87.0,60.0,75.0,70.0,60.0,55.0,67.0,110.0,116.0,94.0,90.0,74.0,83.0,89.0,74.0,62.0,null,94.0,96.0,96.0,88.0,null,76.0,null,58.0,null,55.0,96.0,115.0,68.0,null,null,null,73.0,80.0,116.0,86.0,52.0,null,62.0,86.0,94.0,null,63.0,76.0,88.0,null,85.0,79.0,88.0,85.0,57.0,100.0],"xaxis":"x","yaxis":"y","type":"histogram"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"value"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"count"}},"legend":{"title":{"text":"variable"},"tracegroupgap":0},"margin":{"t":60},"barmode":"relative"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('158b3aa7-6c4e-4c46-b010-1ce05cec2c26');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2022-09-08T23:00:15.586907Z&quot;,&quot;iopub.status.busy&quot;:&quot;2022-09-08T23:00:15.586365Z&quot;,&quot;iopub.status.idle&quot;:&quot;2022-09-08T23:00:15.596975Z&quot;,&quot;shell.execute_reply&quot;:&quot;2022-09-08T23:00:15.596153Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2022-09-08T23:00:15.586874Z&quot;}" data-tags="[]" data-execution_count="22">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>df.hours_to_discharge</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="22">
<pre><code>0       16.0
1      324.0
2        NaN
3       17.0
4        NaN
       ...  
463     17.0
464     17.0
465      NaN
466     17.0
467    284.0
Name: hours_to_discharge, Length: 468, dtype: float64</code></pre>
</div>
</div>
<div class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2022-09-08T23:00:18.680432Z&quot;,&quot;iopub.status.busy&quot;:&quot;2022-09-08T23:00:18.679871Z&quot;,&quot;iopub.status.idle&quot;:&quot;2022-09-08T23:00:18.777657Z&quot;,&quot;shell.execute_reply&quot;:&quot;2022-09-08T23:00:18.776811Z&quot;,&quot;shell.execute_reply.started&quot;:&quot;2022-09-08T23:00:18.680399Z&quot;}" data-tags="[]" data-execution_count="23">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>px.histogram(df.hours_to_discharge)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">

<div>                            <div id="624d0aa1-af54-4964-8174-f82e75216265" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("624d0aa1-af54-4964-8174-f82e75216265")) {                    Plotly.newPlot(                        "624d0aa1-af54-4964-8174-f82e75216265",                        [{"alignmentgroup":"True","bingroup":"x","hovertemplate":"variable=hours_to_discharge<br>value=%{x}<br>count=%{y}<extra></extra>","legendgroup":"hours_to_discharge","marker":{"color":"#636efa","pattern":{"shape":""}},"name":"hours_to_discharge","offsetgroup":"hours_to_discharge","orientation":"v","showlegend":true,"x":[16.0,324.0,null,17.0,null,40.0,17.0,15.0,81.0,14.0,null,112.0,null,322.0,null,null,null,91.0,null,62.0,null,16.0,13.0,18.0,156.0,113.0,16.0,328.0,null,null,null,42.0,204.0,115.0,null,null,64.0,null,null,11.0,18.0,null,189.0,157.0,281.0,293.0,65.0,155.0,17.0,112.0,15.0,null,138.0,137.0,20.0,187.0,138.0,136.0,44.0,null,137.0,null,null,285.0,12.0,null,136.0,163.0,137.0,255.0,170.0,157.0,null,43.0,null,186.0,113.0,301.0,187.0,181.0,20.0,112.0,184.0,null,null,118.0,4.0,null,null,62.0,null,113.0,null,136.0,18.0,null,68.0,null,null,133.0,null,null,null,19.0,null,null,279.0,20.0,211.0,84.0,null,328.0,null,39.0,145.0,14.0,null,256.0,null,null,null,null,60.0,44.0,182.0,18.0,18.0,284.0,168.0,135.0,21.0,83.0,91.0,136.0,14.0,16.0,187.0,19.0,21.0,181.0,null,null,163.0,63.0,210.0,null,15.0,185.0,229.0,null,37.0,186.0,116.0,39.0,161.0,113.0,null,185.0,43.0,157.0,null,19.0,161.0,null,null,65.0,140.0,null,305.0,20.0,21.0,null,null,203.0,284.0,225.0,17.0,23.0,73.0,24.0,null,37.0,206.0,114.0,38.0,159.0,null,null,null,93.0,43.0,null,202.0,111.0,176.0,null,20.0,14.0,116.0,null,null,176.0,null,null,160.0,20.0,null,null,null,137.0,43.0,null,null,85.0,324.0,112.0,null,17.0,66.0,null,40.0,null,65.0,136.0,87.0,null,null,308.0,null,328.0,67.0,null,88.0,null,205.0,259.0,35.0,329.0,276.0,187.0,113.0,null,44.0,186.0,null,null,null,null,306.0,16.0,null,null,184.0,142.0,181.0,304.0,null,170.0,null,null,null,19.0,null,17.0,274.0,39.0,59.0,null,90.0,160.0,null,null,null,null,40.0,null,15.0,21.0,277.0,16.0,null,null,null,null,null,17.0,183.0,17.0,null,null,null,null,230.0,null,null,89.0,null,null,null,259.0,160.0,null,42.0,156.0,null,null,null,null,88.0,null,null,114.0,null,44.0,213.0,307.0,null,144.0,null,211.0,331.0,161.0,114.0,null,6.0,20.0,162.0,307.0,null,258.0,null,20.0,null,20.0,39.0,159.0,159.0,110.0,null,164.0,null,208.0,null,114.0,15.0,115.0,null,null,22.0,68.0,null,248.0,null,13.0,139.0,187.0,181.0,null,null,39.0,null,null,null,null,null,68.0,null,null,20.0,null,null,20.0,null,25.0,107.0,null,38.0,null,null,40.0,19.0,16.0,null,20.0,null,20.0,17.0,18.0,17.0,23.0,36.0,303.0,300.0,null,134.0,null,67.0,133.0,20.0,null,43.0,64.0,86.0,null,19.0,135.0,null,19.0,292.0,null,118.0,null,140.0,13.0,116.0,40.0,18.0,null,19.0,14.0,null,null,114.0,null,138.0,34.0,88.0,null,22.0,138.0,16.0,null,161.0,135.0,38.0,12.0,null,11.0,null,43.0,null,87.0,1.0,64.0,43.0,null,null,null,253.0,1.0,213.0,13.0,186.0,null,21.0,233.0,68.0,null,17.0,null,162.0,null,15.0,17.0,17.0,null,17.0,284.0],"xaxis":"x","yaxis":"y","type":"histogram"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"value"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"count"}},"legend":{"title":{"text":"variable"},"tracegroupgap":0},"margin":{"t":60},"barmode":"relative"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('624d0aa1-af54-4964-8174-f82e75216265');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>