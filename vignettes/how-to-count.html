<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Steve Harris">
<meta name="dcterms.date" content="2020-05-25">

<title>HyStakes - Counting deaths</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">HyStakes</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html">Home</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../vignettes/vignettes.html">Vignettes</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html">About</a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/HYLODE/HyStakes"><i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
 </a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Counting deaths</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation docked overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">ICU discharges</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../tutorial/bayes-for-discharge.html" class="sidebar-item-text sidebar-link">Predicting discharge using Bayesian statistics</a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Counting deaths</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Steve Harris </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 25, 2020</p>
    </div>
  </div>
    
  </div>
  

</header>

<p>This is an explanation of how to count the ways that one of two things can be chosen <span class="math inline">\(k\)</span> times fron <span class="math inline">\(n\)</span> events. That is how many ways can you get 6 heads from tossing a coin 10 times.</p>
<p>There’s a nice visual explanation <a href="https://charleslow.github.io/binomial_coefficient/">here</a>.</p>
<p>We observe the outcomes of a series of binary choices: dead or alive, left of right, male or female, or healthy or diseased. We can imagine a series of these choices as a garden of forking paths. Let’s work with counts of deaths (mortality) and label them as died (<code>D</code>) or survived (<code>S</code>).</p>
<ol type="1">
<li>The first fork: there are just two possible outcomes: <code>D</code> or <code>S</code>.</li>
<li>The second fork is identical but replicated for each of the outcomes leading from the first fork: <code>DD</code> , or <code>DS</code>, or <code>SD</code>, or <code>SS</code>. You can read these as case 1 and case 2 died (<code>DD</code>), or case 1 died but case 2 survived (<code>DS</code>) etc.</li>
<li>The third fork produces eight possible series: <code>DDD</code>, <code>DDS</code>, <code>DSD</code>, <code>DSS</code>, <code>SDD</code>, <code>SDS</code>, <code>SSD</code>, and <code>SSS</code>.</li>
</ol>
<p>And so on.</p>
<p>But we are interested in the count of deaths not the sequence so at the second fork <code>DS</code> is equivalent to <code>SD</code>: one death, one survivor each. So if the order doesn’t matter then there is one path to 2 deaths, two paths to 1 death, and one path to 2 survivors (0 deaths). At the third fork, there is also one path to 3 deaths, three paths to 2 deaths, three paths to 1 death, and one path to zero deaths.</p>
<p>If we want to go beyond counting by hand, we need to see if we can find a mathematical trick to make the counting easier. Pascal found one in his triangle.</p>
<p><img src="https://upload.wikimedia.org/wikipedia/commons/0/0d/PascalTriangleAnimated2.gif" class="img-fluid"></p>
<p>But even writing out such a triangle is not going to be sustainable.</p>
<p>Let’s rephrase the problem, and start from the sequences we generate at the ends of the paths. For any particular number of deaths (<em>i</em>), split the problem into two parts. First count how many ways you can choose <em>i</em> deaths from a group of <em>n</em> subjects. Concretely, choose 2 deaths among 3 patients: you have 3 choices for the first death, and then 2 choices for the second death: <span class="math inline">\(3\times2\)</span>. Second, count how many ways you can order those <em>i</em> deaths: there are 2 choices for the <em>first</em> death, and just 1 choice for the <em>second</em> death: <span class="math inline">\(2\times1\)</span>. Since you only care about the count not the ordering then you divide the count of choices by the count of orderings.</p>
<ol type="1">
<li>3 deaths in 3 subjects.
<ul>
<li>There are 3 choices for the first death, 2 choices for the second death, and 1 choice for the last death: <span class="math inline">\(3\times2\times1\)</span></li>
<li>There are 3 orderings of deaths: <span class="math inline">\(3\times2\times1\)</span></li>
<li>So there is just 1 way <span class="math inline">\(\left(\frac{3\times2\times1}{3\times2\times1}\right(\)</span> of choosing 3 deaths from 3 subjects</li>
</ul></li>
<li>2 deaths in 3 subjects
<ul>
<li>There are 3 choices for the first death, and 2 choices for the second death: <span class="math inline">\(3\times2\)</span></li>
<li>There are 2 orderings of deaths: <span class="math inline">\(2\times1\)</span></li>
<li>So there is are 3 ways <span class="math inline">\(\left(\frac{3\times2}{2\times1}\right)\)</span> way of choosing 2 deaths from 3 subjects</li>
</ul></li>
<li>1 deaths in 3 subjects
<ul>
<li>There are 3 choices for the first death: <span class="math inline">\(3\)</span></li>
<li>There is only 1 ordering of deaths: <span class="math inline">\(1\)</span></li>
<li>So there is are 3 ways <span class="math inline">\(\left(\frac{3}{1}\right)\)</span> way of choosing 1 death from 3 subjects</li>
</ul></li>
<li>0 deaths in 3 subjects
<ul>
<li>By symmetry, this is the same as choosing 3 survivors in 3 subjects as per (1) above: there is only 1 way</li>
<li>By the definition of a factorial <span class="math inline">\(0!=1\)</span> then we can say that zero choices divided by zero orderings is <span class="math inline">\(\left(\frac{0!}{0!}\right)\)</span> is also 1.</li>
</ul></li>
</ol>
<hr>
<p>The example is trivial but the principle of dividing the count of choices by the count of orderings allow us to work with deeper layers Pascal’s triangle, and to count the number of ways that forking paths can produce any particular count.</p>
<p>Consider our problem of counting the ways 6 deaths can arise among 10 patients. This can now be calculated as</p>
<p><span class="math display">\[
\begin{aligned}
    count &amp;= \frac{\text{count of choices}}{\text{count of orderings}} \\
    &amp;= \frac{10\times9\times8\times7\times6\times5}
                    {6\times5\times4\times3\times2\times1} \\
    &amp;= \frac{5040}{24} \\
    &amp;= 210
\end{aligned}
\]</span></p>



</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>